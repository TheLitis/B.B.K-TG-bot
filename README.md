## Lgpol / ¬´–í.–í.–ö.¬ª Telegram Bot (Demo MVP)

Telegram-–±–æ—Ç –Ω–∞ `aiogram 3`, –ø–æ–º–æ–≥–∞—é—â–∏–π –ø–æ–¥–±–∏—Ä–∞—Ç—å –Ω–∞–ø–æ–ª—å–Ω—ã–µ –ø–æ–∫—Ä—ã—Ç–∏—è –∏–∑ –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–∞ Lgpol/¬´–í.–í.–ö.¬ª. MVP –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç UX –∫–∞—Ç–∞–ª–æ–≥–∞, –º–∞—Å—Ç–µ—Ä –ø–æ–¥–±–æ—Ä–∞, ¬´–ø–æ–¥–±–æ—Ä–∫—É¬ª –±–µ–∑ —Ü–µ–Ω, —ç–∫—Å–ø–æ—Ä—Ç –∑–∞—è–≤–æ–∫ –∏ —Ñ–æ—Ä–º—ã —Å–≤—è–∑–∏ —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º.

### –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

```bash
python -m venv .venv
.venv\Scripts\activate  # Windows
# source .venv/bin/activate  # Linux/Mac
pip install -e .
```

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
   - `BOT_TOKEN` ‚Äî —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞.
   - `MANAGER_CHAT_ID` ‚Äî chat_id –º–µ–Ω–µ–¥–∂–µ—Ä–∞ –¥–ª—è –∑–∞—è–≤–æ–∫.
   - `USE_WEBHOOK`, `WEBHOOK_URL`, `WEBAPP_HOST`, `WEBAPP_PORT` ‚Äî –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è –≤–µ–±—Ö—É–∫–∞.
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python -m bot.main
```

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è long polling. –î–ª—è –≤–µ–±—Ö—É–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `USE_WEBHOOK=true` –∏ –∑–∞–¥–∞–π—Ç–µ URL.

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

- `data/catalog.json` ‚Äî –¥–µ–º–æ-–∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ > —Ñ–∏–ª—å—Ç—Ä—ã > —Ç–æ–≤–∞—Ä—ã).
- `data/delivery.md`, `data/faq.md` ‚Äî —Ç–µ–∫—Å—Ç—ã —Ä–∞–∑–¥–µ–ª–æ–≤ ¬´–î–æ—Å—Ç–∞–≤–∫–∞/–û–ø–ª–∞—Ç–∞¬ª –∏ FAQ.
- `data/company.json` ‚Äî –∫–æ–Ω—Ç–∞–∫—Ç—ã –∫–æ–º–ø–∞–Ω–∏–∏.
- `data/styles.yaml` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –º–µ–Ω—é, –≤–æ–ø—Ä–æ—Å—ã –º–∞—Å—Ç–µ—Ä–∞, —à–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π.
- `tmp/selection_*.json` ‚Äî –∞–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–¥–±–æ—Ä–æ–∫ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏).

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª—ã –≤ `data/` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ –±–æ—Ç–∞. YAML/JSON —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞.

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

1. **–ú–∞—Å—Ç–µ—Ä –ø–æ–¥–±–æ—Ä–∞** ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –æ–±—ä–µ–∫—Ç—É, —Ç–∏–ø—É –º–∞—Ç–µ—Ä–∏–∞–ª–∞, –∫–ª–∞—Å—Å—É, –¥–∏–∑–∞–π–Ω—É, –º–µ—Ç—Ä–∞–∂—É –∏ –±—é–¥–∂–µ—Ç—É. –ü–æ—Å–ª–µ —Ä–∞—Å—á—ë—Ç–∞ –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ 6 –∫–∞—Ä—Ç–æ—á–µ–∫ —Å CTA (¬´‚ûï –í –ø–æ–¥–±–æ—Ä–∫—É¬ª, ¬´üì¶ –û–±—Ä–∞–∑—Ü—ã¬ª –∏ –¥—Ä.).
2. **–ö–∞—Ç–∞–ª–æ–≥** ‚Äî –ø–æ—à–∞–≥–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ñ–∏–ª—å—Ç—Ä–∞–º –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ Lgpol, –≤—ã–¥–∞—á–∞ –∫–∞—Ä—Ç–æ—á–µ–∫ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É.
3. **–ü–æ–¥–±–æ—Ä–∫–∞** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ SKU —Å —É—á—ë—Ç–æ–º –º–µ—Ç—Ä–∞–∂–∞, —ç–∫—Å–ø–æ—Ä—Ç –≤ Excel, –æ—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä—É.
4. **–û–±—Ä–∞–∑—Ü—ã** –∏ **–º–µ–Ω–µ–¥–∂–µ—Ä** ‚Äî —Ñ–æ—Ä–º—ã —Å–±–æ—Ä–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞ —Å —Å–æ–≥–ª–∞—Å–∏–µ–º –Ω–∞ –ü–î–Ω, –æ—Ç–ø—Ä–∞–≤–∫–∞ –º–µ–Ω–µ–¥–∂–µ—Ä—É.
5. **–ê–∫—Ü–∏–∏/–ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ** ‚Äî –¥–µ–º–æ-–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏–∑ `pricing_stub.py` —Å CTA ¬´ü§ù –ü–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–æ¬ª.
6. **–ö–æ–Ω—Ç–∞–∫—Ç—ã** ‚Äî –∞–¥—Ä–µ—Å, —Ç–µ–ª–µ—Ñ–æ–Ω –∏ —Å—Å—ã–ª–∫–∞ ¬´–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç¬ª.

### –°–∫—Ä–∏–Ω—à–æ—Ç—ã (–æ–ø–∏—Å–∞–Ω–∏–µ)

- **–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é**: –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ + reply-–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å –∏–∫–æ–Ω–∫–∞–º–∏ (`üß≠`, `üõç`, `üöö`, `üí≥`, `üéØ`, `üì¶`, `üë§`, `üìû`).
- **–ú–∞—Å—Ç–µ—Ä –ø–æ–¥–±–æ—Ä–∞**: –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–æ–ø—Ä–æ—Å–æ–≤, –∏—Ç–æ–≥ ‚Äî —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –∏ –∫–Ω–æ–ø–∫–∞–º–∏.
- **–ö–∞—Ç–∞–ª–æ–≥**: inline-–º–µ–Ω—é –∫–∞—Ç–µ–≥–æ—Ä–∏–π, –¥–∞–ª–µ–µ —Ñ–∏–ª—å—Ç—Ä—ã –∏ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å CTA.
- **–ü–æ–¥–±–æ—Ä–∫–∞**: –æ—Ç–≤–µ—Ç —Å –ø–µ—Ä–µ—á–Ω–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö SKU, –∫–Ω–æ–ø–∫–∏ ¬´üóë –û—á–∏—Å—Ç–∏—Ç—å¬ª, ¬´üìä –≠–∫—Å–ø–æ—Ä—Ç¬ª, ¬´‚úâÔ∏è –ú–µ–Ω–µ–¥–∂–µ—Ä—É¬ª.
- **–§–æ—Ä–º–∞ –æ–±—Ä–∞–∑—Ü–æ–≤**: –¥–∏–∞–ª–æ–≥ –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞–º, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏.

### –ü—Ä–∏–º–µ—Ä –¥–∏–∞–ª–æ–≥–∞

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: ¬´–ù—É–∂–Ω–æ –ø–æ–∫—Ä—ã—Ç–∏–µ –≤ –æ—Ñ–∏—Å –Ω–∞ 120‚ÄØ–º¬≤, –∏–∑–Ω–æ—Å–æ—Å—Ç–æ–π–∫–æ–µ, —Å–µ—Ä–æ–µ.¬ª  
- **–ë–æ—Ç**: –∑–∞–¥–∞—ë—Ç –≤–æ–ø—Ä–æ—Å—ã –º–∞—Å—Ç–µ—Ä–∞ ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–≤—Ä–æ–≤—É—é –ø–ª–∏—Ç–∫—É –∫–æ–º–º–µ—Ä—á–µ—Å–∫–æ–≥–æ –∫–ª–∞—Å—Å–∞ ‚Üí –≤—ã–¥–∞—ë—Ç 3 –∫–∞—Ä—Ç–æ—á–∫–∏ ‚Üí –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–±–∞–≤–ª—è–µ—Ç –≤ –ø–æ–¥–±–æ—Ä–∫—É ‚Üí –±–æ—Ç –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç ¬´üìä –≠–∫—Å–ø–æ—Ä—Ç XLSX¬ª ‚Üí ¬´‚úâÔ∏è –ú–µ–Ω–µ–¥–∂–µ—Ä—É¬ª.

### –¢–µ—Å—Ç—ã –∏ –∫–∞—á–µ—Å—Ç–≤–æ

- `pytest` ‚Äî –±–∞–∑–æ–≤—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ –º–∞—Å—Ç–µ—Ä–∞ (—Å–º. `tests/test_picker.py`).
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ `ruff` –∏ `black` –≤ `pyproject.toml`.

### –ó–∞–º–µ—Ç–∫–∏ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°

–ü–æ—Ä—Ç—ã `InventoryPort` –∏ `PricingPort` –∑–∞–ª–æ–∂–µ–Ω—ã –¥–ª—è –ø–æ–¥–∫–ª—é—á–∞–µ–º–æ–≥–æ –∞–¥–∞–ø—Ç–µ—Ä–∞ REST/OData. –í –±—É–¥—É—â–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å `inventory_stub.py` –∏ `pricing_stub.py` –Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å 1–°, —Å–æ—Ö—Ä–∞–Ω–∏–≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã.

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

- `/start`, `/help`, `/faq` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ, –º–µ–Ω—é, FAQ.
- –ö–Ω–æ–ø–∫–∏ –º–µ–Ω—é ‚Äî –æ—Å–Ω–æ–≤–Ω–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –±–µ–∑ –≤–≤–æ–¥–∏–º—ã—Ö –∫–æ–º–∞–Ω–¥.
