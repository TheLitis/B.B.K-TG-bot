## Lgpol / ยซะ.ะ.ะ.ยป Telegram Bot (Demo MVP)

Telegram-ะฑะพั ะฝะฐ `aiogram 3`, ะฟะพะผะพะณะฐััะธะน ะฟะพะดะฑะธัะฐัั ะฝะฐะฟะพะปัะฝัะต ะฟะพะบัััะธั ะธะท ะฐััะพััะธะผะตะฝัะฐ Lgpol/ยซะ.ะ.ะ.ยป. MVP ะดะตะผะพะฝัััะธััะตั UX ะบะฐัะฐะปะพะณะฐ, ะผะฐััะตั ะฟะพะดะฑะพัะฐ, ยซะฟะพะดะฑะพัะบัยป ะฑะตะท ัะตะฝ, ัะบัะฟะพัั ะทะฐัะฒะพะบ ะธ ัะพัะผั ัะฒัะทะธ ั ะผะตะฝะตะดะถะตัะพะผ.

### ะะฐะฟััะบ ะฟัะพะตะบัะฐ

```bash
python -m venv .venv
.venv\Scripts\activate  # Windows
# source .venv/bin/activate  # Linux/Mac
pip install -e .
```

1. ะกะบะพะฟะธััะนัะต `.env.example` ะฒ `.env` ะธ ะทะฐะฟะพะปะฝะธัะต ะฟะตัะตะผะตะฝะฝัะต:
   - `BOT_TOKEN` โ ัะพะบะตะฝ Telegram-ะฑะพัะฐ.
   - `MANAGER_CHAT_ID` โ chat_id ะผะตะฝะตะดะถะตัะฐ ะดะปั ะทะฐัะฒะพะบ.
   - `USE_WEBHOOK`, `WEBHOOK_URL`, `WEBAPP_HOST`, `WEBAPP_PORT` โ ะพะฟัะธะพะฝะฐะปัะฝะพ ะดะปั ะฒะตะฑััะบะฐ.
2. ะะฐะฟัััะธัะต ะฑะพัะฐ:

```bash
python -m bot.main
```

ะะพ ัะผะพะปัะฐะฝะธั ะธัะฟะพะปัะทัะตััั long polling. ะะปั ะฒะตะฑััะบะฐ ัััะฐะฝะพะฒะธัะต `USE_WEBHOOK=true` ะธ ะทะฐะดะฐะนัะต URL.

### ะกัััะบัััะฐ ะดะฐะฝะฝัั

- `data/catalog.json` โ ะดะตะผะพ-ะฐััะพััะธะผะตะฝั (ะบะฐัะตะณะพัะธะธ > ัะธะปัััั > ัะพะฒะฐัั).
- `data/delivery.md`, `data/faq.md` โ ัะตะบััั ัะฐะทะดะตะปะพะฒ ยซะะพััะฐะฒะบะฐ/ะะฟะปะฐัะฐยป ะธ FAQ.
- `data/company.json` โ ะบะพะฝัะฐะบัั ะบะพะผะฟะฐะฝะธะธ.
- `data/styles.yaml` โ ะฟัะธะฒะตัััะฒะธะต, ะผะตะฝั, ะฒะพะฟัะพัั ะผะฐััะตัะฐ, ัะฐะฑะปะพะฝั ัะพะพะฑัะตะฝะธะน.
- `tmp/selection_*.json` โ ะฐะฒัะพัะพััะฐะฝะตะฝะธะต ะฟะพะดะฑะพัะพะบ (ัะพะทะดะฐัััั ะฐะฒัะพะผะฐัะธัะตัะบะธ).

ะะปั ะพะฑะฝะพะฒะปะตะฝะธั ะบะพะฝัะตะฝัะฐ ะฟัะฐะฒััะต ัะฐะนะปั ะฒ `data/` ะธ ะฟะตัะตะทะฐะฟััะบะฐะนัะต ะฑะพัะฐ. YAML/JSON ัะตะดะฐะบัะธัััััั ะฑะตะท ะธะทะผะตะฝะตะฝะธั ะบะพะดะฐ.

### ะัะฝะพะฒะฝัะต ััะตะฝะฐัะธะธ

1. **ะะฐััะตั ะฟะพะดะฑะพัะฐ** โ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝัะต ะฒะพะฟัะพัั ะฟะพ ะพะฑัะตะบัั, ัะธะฟั ะผะฐัะตัะธะฐะปะฐ, ะบะปะฐััั, ะดะธะทะฐะนะฝั, ะผะตััะฐะถั ะธ ะฑัะดะถะตัั. ะะพัะปะต ัะฐััััะฐ ะฑะพั ะฟะพะบะฐะทัะฒะฐะตั ะดะพ 6 ะบะฐััะพัะตะบ ั CTA (ยซโ ะ ะฟะพะดะฑะพัะบัยป, ยซ๐ฆ ะะฑัะฐะทััยป ะธ ะดั.).
2. **ะะฐัะฐะปะพะณ** โ ะฟะพัะฐะณะพะฒะฐั ะฝะฐะฒะธะณะฐัะธั ะฟะพ ัะธะปัััะฐะผ ะธะท ัะตะฐะปัะฝะพะณะพ ะบะฐัะฐะปะพะณะฐ Lgpol, ะฒัะดะฐัะฐ ะบะฐััะพัะตะบ ะฟะพ ัะตะทัะปััะฐัั.
3. **ะะพะดะฑะพัะบะฐ** โ ะดะพะฑะฐะฒะปะตะฝะธะต SKU ั ััััะพะผ ะผะตััะฐะถะฐ, ะธะฝะปะฐะนะฝโะฟะฐะฝะตะปั ยซ๐ ะัะธััะธัั / ๐ ะญะบัะฟะพัั / โ๏ธ ะะตะฝะตะดะถะตััยป, ะพะดะฝะพะบะปะธะบะพะฒะฐั ะพัะฟัะฐะฒะบะฐ ัะฐััััะฐ ะผะตะฝะตะดะถะตัั.
4. **ะะฐััะพัะบะธ ะบะฐัะฐะปะพะณะฐ** โ CTA ยซ๐ฆ ะะฑัะฐะทััยป, ยซ๐ ะะฐัะฟะพััยป, ยซโ๏ธ ะะฐะฟัะพั ััััะฐยป ะฐะฒัะพะผะฐัะธัะตัะบะธ ัะฒะตะดะพะผะปััั ะผะตะฝะตะดะถะตัะฐ ะธ ัะธะบัะธัััั ะทะฐะฟัะพั ะบะปะธะตะฝัะฐ.
5. **ะะฑัะฐะทัั** ะธ **ะผะตะฝะตะดะถะตั** โ ัะพัะผั ัะฑะพัะฐ ะบะพะฝัะฐะบัะฐ ั ัะพะณะปะฐัะธะตะผ ะฝะฐ ะะะฝ, ะพัะฟัะฐะฒะบะฐ ะผะตะฝะตะดะถะตัั.
5. **ะะบัะธะธ/ะะฐััะฝััััะฒะพ** โ ะดะตะผะพ-ะธะฝัะพัะผะฐัะธั ะธะท `pricing_stub.py` ั CTA ยซ๐ค ะะฐััะฝััััะฒะพยป.
6. **ะะพะฝัะฐะบัั** โ ะฐะดัะตั, ัะตะปะตัะพะฝ ะธ ัััะปะบะฐ ยซะะพัััะพะธัั ะผะฐัััััยป.

### ะกะบัะธะฝัะพัั (ะพะฟะธัะฐะฝะธะต)

- **ะะปะฐะฒะฝะพะต ะผะตะฝั**: ะฟัะธะฒะตัััะฒะธะต + reply-ะบะปะฐะฒะธะฐัััะฐ ั ะธะบะพะฝะบะฐะผะธ (`๐งญ`, `๐`, `๐`, `๐ณ`, `๐ฏ`, `๐ฆ`, `๐ค`, `๐`).
- **ะะฐััะตั ะฟะพะดะฑะพัะฐ**: ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพััั ะฒะพะฟัะพัะพะฒ, ะธัะพะณ โ ัะฟะธัะพะบ ะบะฐััะพัะตะบ ั ัะฐัะฐะบัะตัะธััะธะบะฐะผะธ ะธ ะบะฝะพะฟะบะฐะผะธ.
- **ะะฐัะฐะปะพะณ**: inline-ะผะตะฝั ะบะฐัะตะณะพัะธะน, ะดะฐะปะตะต ัะธะปัััั ะธ ะบะฐััะพัะบะธ ั CTA.
- **ะะพะดะฑะพัะบะฐ**: ะพัะฒะตั ั ะฟะตัะตัะฝะตะผ ะฒัะฑัะฐะฝะฝัั SKU, ะบะฝะพะฟะบะธ ยซ๐ ะัะธััะธััยป, ยซ๐ ะญะบัะฟะพััยป, ยซโ๏ธ ะะตะฝะตะดะถะตััยป.
- **ะคะพัะผะฐ ะพะฑัะฐะทัะพะฒ**: ะดะธะฐะปะพะณ ะฟะพ ะบะพะฝัะฐะบัะฐะผ, ะฟะพะดัะฒะตัะถะดะตะฝะธะต ะธ ะพัะฟัะฐะฒะบะฐ ะทะฐัะฒะบะธ.

### ะัะธะผะตั ะดะธะฐะปะพะณะฐ

- **ะะพะปัะทะพะฒะฐัะตะปั**: ยซะัะถะฝะพ ะฟะพะบัััะธะต ะฒ ะพัะธั ะฝะฐ 120โฏะผยฒ, ะธะทะฝะพัะพััะพะนะบะพะต, ัะตัะพะต.ยป  
- **ะะพั**: ะทะฐะดะฐัั ะฒะพะฟัะพัั ะผะฐััะตัะฐ โ ะฟัะตะดะปะฐะณะฐะตั ะบะพะฒัะพะฒัั ะฟะปะธัะบั ะบะพะผะผะตััะตัะบะพะณะพ ะบะปะฐััะฐ โ ะฒัะดะฐัั 3 ะบะฐััะพัะบะธ โ ะฟะพะปัะทะพะฒะฐัะตะปั ะดะพะฑะฐะฒะปัะตั ะฒ ะฟะพะดะฑะพัะบั โ ะฑะพั ะฟัะตะดะปะฐะณะฐะตั ยซ๐ ะญะบัะฟะพัั XLSXยป โ ยซโ๏ธ ะะตะฝะตะดะถะตััยป.

### ะะฐัะธัะฐ ะธ ะบะฐัะตััะฒะพ

- `pytest` โ ะฑะฐะทะพะฒัะต ะฟัะพะฒะตัะบะธ ะปะพะณะธะบะธ ะผะฐััะตัะฐ (ัะผ. `tests/test_picker.py`).
- ะะฐัััะพะนะบะธ `ruff` ะธ `black` ะฒ `pyproject.toml`.
- ะัััะพะตะฝะฝัะน middleware ะพะณัะฐะฝะธัะธะฒะฐะตั ัะฐััะพัั ัะพะพะฑัะตะฝะธะน ะพั ะพะดะฝะพะณะพ ะฟะพะปัะทะพะฒะฐัะตะปั โ ะทะฐัะธัะฐ ะพั ยซะดะดะพัยป ะธ ัะปััะฐะนะฝะพะณะพ ัะฟะฐะผะฐ.
- ะัะต ัะฒะตะดะพะผะปะตะฝะธั ะผะตะฝะตะดะถะตัั ัะพะดะตัะถะฐั ะบะปะธะบะฐะฑะตะปัะฝัะน username / ัััะปะบั ะฝะฐ ะฟัะพัะธะปั.

### ะะฐะผะตัะบะธ ะฟะพ ะธะฝัะตะณัะฐัะธะธ ั 1ะก

ะะพััั `InventoryPort` ะธ `PricingPort` ะทะฐะปะพะถะตะฝั ะดะปั ะฟะพะดะบะปััะฐะตะผะพะณะพ ะฐะดะฐะฟัะตัะฐ REST/OData. ะ ะฑัะดััะตะผ ะดะพััะฐัะพัะฝะพ ะทะฐะผะตะฝะธัั `inventory_stub.py` ะธ `pricing_stub.py` ะฝะฐ ะธะฝัะตะณัะฐัะธะธ ั 1ะก, ัะพััะฐะฝะธะฒ ะธะฝัะตััะตะนัั.

### ะะพะปะตะทะฝัะต ะบะพะผะฐะฝะดั

- `/start`, `/help`, `/faq` โ ะฟัะธะฒะตัััะฒะธะต, ะผะตะฝั, FAQ.
- ะะฝะพะฟะบะธ ะผะตะฝั โ ะพัะฝะพะฒะฝะพะน ััะตะฝะฐัะธะน ะฝะฐะฒะธะณะฐัะธะธ ะฑะตะท ะฒะฒะพะดะธะผัั ะบะพะผะฐะฝะด.
